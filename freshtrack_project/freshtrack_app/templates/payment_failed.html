{% extends 'base.html' %}

{% block title %}Payment Failed - FreshTrack{% endblock %}

{% block content %}
<style>
.demo-badge {
    display: inline-block;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 20px;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}
</style>

<div style="max-width: 700px; margin: 50px auto; text-align: center;">
    <div style="background: white; padding: 50px; border-radius: 20px; box-shadow: 0 8px 32px rgba(244, 67, 54, 0.2); border: 2px solid #f44336;">
        
        <!-- DEMO Badge -->
        <div class="demo-badge">
            üß™ SANDBOX MODE - Test Payment Only
        </div>
        
        <div style="font-size: 100px; color: #f44336; margin-bottom: 20px; animation: shake 0.5s;">‚ùå</div>
        
        <h1 style="color: #f44336; margin-bottom: 15px; font-size: 2.5rem;">Payment Failed</h1>
        
        <p style="font-size: 18px; color: #666; margin-bottom: 20px;">
            Your <strong>demo payment</strong> could not be processed.
        </p>
        
        {% if error_message %}
        <div style="background: #ffebee; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #f44336;">
            <p style="color: #c62828; margin: 0;">{{ error_message }}</p>
        </div>
        {% endif %}
        
        <div style="background: #fff3cd; padding: 20px; border-radius: 12px; margin: 20px 0; border-left: 4px solid #ff9800; text-align: left;">
            <p style="margin: 0 0 10px 0; font-weight: 600; color: #e65100;">üí° Testing in Sandbox Mode?</p>
            <p style="margin: 0; font-size: 14px; color: #666;">
                Use these <strong>test credentials</strong> for successful demo payments:
            </p>
            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: left;">
                <p style="margin: 5px 0; font-size: 13px; font-family: monospace;">
                    <strong>Test Card:</strong><br>
                    ‚Ä¢ Number: 4111 1111 1111 1111<br>
                    ‚Ä¢ Expiry: 12/25 (any future date)<br>
                    ‚Ä¢ CVV: 123<br>
                    ‚Ä¢ Name: Test User
                </p>
            </div>
        </div>
        
        <p style="color: #666; margin: 20px 0; font-size: 14px;">
            Common reasons for failure in demo mode:<br>
            ‚Ä¢ Clicked "Fail" button on gateway<br>
            ‚Ä¢ Used invalid test card<br>
            ‚Ä¢ Network timeout<br>
            ‚Ä¢ Gateway test error
        </p>
        
        <div style="margin-top: 30px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            {% if product_id %}
            <a href="{% url 'checkout' product_id %}" class="btn btn-primary" style="padding: 12px 30px; font-size: 16px;">
                Try Again
            </a>
            {% endif %}
            <a href="{% url 'buyer_dashboard' %}" class="btn" style="padding: 12px 30px; font-size: 16px;">
                Back to Products
            </a>
        </div>
    </div>
</div>
{% endblock %}
